<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the WalletStateAlgebra class from the brambl_dart library, for the Dart programming language.">
  <title>WalletStateAlgebra class - brambl_dart library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../static-assets/github.css?v1">
  <link rel="stylesheet" href="../static-assets/styles.css?v1">
  <link rel="icon" href="../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../" data-using-base-href="false" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../index.html">brambl_dart</a></li>
    <li><a href="../brambl_dart/brambl_dart-library.html">brambl_dart</a></li>
    <li class="self-crumb">WalletStateAlgebra class</li>
  </ol>
  <div class="self-name">WalletStateAlgebra</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        brightness_4
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        brightness_5
      </span>
    </label>
  </div>
</header>
<main>

  <div
      id="dartdoc-main-content"
      class="main-content"
      data-above-sidebar="brambl_dart&#47;brambl_dart-library-sidebar.html"
      data-below-sidebar="brambl_dart&#47;WalletStateAlgebra-class-sidebar.html">
      <div>
<h1><span class="kind-class">WalletStateAlgebra</span> class 
    <a href="https://dart.dev/language/classes#abstract-classes" class="feature feature-abstract" title="This type can not be directly constructed.">abstract</a>
 
</h1></div>

    
<section class="desc markdown">
  <p>Defines a data API for storing and retrieving wallet state.</p>
</section>



    
  <section class="summary offset-anchor" id="constructors">
    <h2>Constructors</h2>

    <dl class="constructor-summary-list">
        <dt id="WalletStateAlgebra" class="callable">
          <span class="name"><a href="../brambl_dart/WalletStateAlgebra/WalletStateAlgebra.html">WalletStateAlgebra</a></span><span class="signature">()</span>
        </dt>
        <dd>
          
        </dd>
    </dl>
  </section>

    <section class="summary offset-anchor inherited" id="instance-properties">
      <h2>Properties</h2>

      <dl class="properties">
        <dt id="hashCode" class="property inherited">
  <span class="name"><a href="https://api.dart.dev/stable/3.1.4/dart-core/Object/hashCode.html">hashCode</a></span>
  <span class="signature">&#8594; <a href="https://api.dart.dev/stable/3.1.4/dart-core/int-class.html">int</a></span> 

</dt>
<dd class="inherited">
  The hash code for this object.
  <div class="features"><span class="feature">read-only</span><span class="feature">inherited</span></div>

</dd>

        <dt id="runtimeType" class="property inherited">
  <span class="name"><a href="https://api.dart.dev/stable/3.1.4/dart-core/Object/runtimeType.html">runtimeType</a></span>
  <span class="signature">&#8594; <a href="https://api.dart.dev/stable/3.1.4/dart-core/Type-class.html">Type</a></span> 

</dt>
<dd class="inherited">
  A representation of the runtime type of the object.
  <div class="features"><span class="feature">read-only</span><span class="feature">inherited</span></div>

</dd>

      </dl>
    </section>

    
  <section
      class="summary offset-anchor"
      id="instance-methods">
    <h2>Methods</h2>
    <dl class="callables">
        <dt id="addEntityVks" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/addEntityVks.html">addEntityVks</a></span><span class="signature">(<wbr><span class="parameter" id="addEntityVks-param-party"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">party</span>, </span><span class="parameter" id="addEntityVks-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span>, </span><span class="parameter" id="addEntityVks-param-entities"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/List-class.html">List</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span>&gt;</span></span> <span class="parameter-name">entities</span></span>)
    <span class="returntype parameter">&#8594; void</span>
  </span>
  

</dt>
<dd>
  Add a new entry of entity verification keys to the wallet state's cartesian indexing. Entities are at a pair of
x (party) and y (contract) layers and thus represent a Child verification key at a participants own x/y path.
The respective x and y indices of the specified party and contract labels must already exist.
  

</dd>

        <dt id="addNewLockTemplate" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/addNewLockTemplate.html">addNewLockTemplate</a></span><span class="signature">(<wbr><span class="parameter" id="addNewLockTemplate-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span>, </span><span class="parameter" id="addNewLockTemplate-param-lockTemplate"><span class="type-annotation"><a href="../brambl_dart/LockTemplate-class.html">LockTemplate</a></span> <span class="parameter-name">lockTemplate</span></span>)
    <span class="returntype parameter">&#8594; void</span>
  </span>
  

</dt>
<dd>
  Add a new lock template entry to the wallet state's cartesian indexing. Lock templates are at the y (contract)
layer. This new entry will be associated to the label given by contract. The index of the new entry (and thus
associated with the contract label) will be automatically derived by the next available y-index.
  

</dd>

        <dt id="getAddress" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getAddress.html">getAddress</a></span><span class="signature">(<wbr><span class="parameter" id="getAddress-param-party"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">party</span>, </span><span class="parameter" id="getAddress-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span>, </span><span class="parameter" id="getAddress-param-someState"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/int-class.html">int</a>?</span> <span class="parameter-name">someState</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a>?</span>
  </span>
  

</dt>
<dd>
  Get the lock address associated to the given party, contract and optional state
  

</dd>

        <dt id="getCurrentAddress" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getCurrentAddress.html">getCurrentAddress</a></span><span class="signature">(<wbr>)
    <span class="returntype parameter">&#8594; <a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span>
  </span>
  

</dt>
<dd>
  Get the current address for the wallet state
  

</dd>

        <dt id="getCurrentIndicesForFunds" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getCurrentIndicesForFunds.html">getCurrentIndicesForFunds</a></span><span class="signature">(<wbr><span class="parameter" id="getCurrentIndicesForFunds-param-party"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">party</span>, </span><span class="parameter" id="getCurrentIndicesForFunds-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span>, </span><span class="parameter" id="getCurrentIndicesForFunds-param-someState"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/int-class.html">int</a>?</span> <span class="parameter-name">someState</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_indices.pb/Indices-class.html">Indices</a>?</span>
  </span>
  

</dt>
<dd>
  Get the current indices for the given party, contract and optional state
  

</dd>

        <dt id="getEntityVks" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getEntityVks.html">getEntityVks</a></span><span class="signature">(<wbr><span class="parameter" id="getEntityVks-param-party"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">party</span>, </span><span class="parameter" id="getEntityVks-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://api.dart.dev/stable/3.1.4/dart-core/List-class.html">List</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span>&gt;</span>?</span>
  </span>
  

</dt>
<dd>
  Get the list of verification keys associated to the given pair of party and contract
  

</dd>

        <dt id="getIndicesBySignature" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getIndicesBySignature.html">getIndicesBySignature</a></span><span class="signature">(<wbr><span class="parameter" id="getIndicesBySignature-param-signatureProposition"><span class="type-annotation"><a href="https://pub.dev/documentation/topl_common/2.1.0/proto_quivr_models_proposition.pb/Proposition_DigitalSignature-class.html">Proposition_DigitalSignature</a></span> <span class="parameter-name">signatureProposition</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_indices.pb/Indices-class.html">Indices</a>?</span>
  </span>
  

</dt>
<dd>
  Get the indices associated to a signature proposition
  

</dd>

        <dt id="getLock" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getLock.html">getLock</a></span><span class="signature">(<wbr><span class="parameter" id="getLock-param-party"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">party</span>, </span><span class="parameter" id="getLock-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span>, </span><span class="parameter" id="getLock-param-nextState"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/int-class.html">int</a></span> <span class="parameter-name">nextState</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_box_lock.pb/Lock-class.html">Lock</a>?</span>
  </span>
  

</dt>
<dd>
  Using the template associated the given contract, the verification keys associated to the party and contract pair,
and the z state given by nextState, build a Lock
  

</dd>

        <dt id="getLockByAddress" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getLockByAddress.html">getLockByAddress</a></span><span class="signature">(<wbr><span class="parameter" id="getLockByAddress-param-lockAddress"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">lockAddress</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_box_lock.pb/Lock_Predicate-class.html">Lock_Predicate</a>?</span>
  </span>
  

</dt>
<dd>
  Get the lock predicate associated to the given lockAddress.
  

</dd>

        <dt id="getLockByIndex" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getLockByIndex.html">getLockByIndex</a></span><span class="signature">(<wbr><span class="parameter" id="getLockByIndex-param-indices"><span class="type-annotation"><a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_indices.pb/Indices-class.html">Indices</a></span> <span class="parameter-name">indices</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_box_lock.pb/Lock_Predicate-class.html">Lock_Predicate</a>?</span>
  </span>
  

</dt>
<dd>
  Get the lock predicate associated to the given indices
  

</dd>

        <dt id="getLockTemplate" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getLockTemplate.html">getLockTemplate</a></span><span class="signature">(<wbr><span class="parameter" id="getLockTemplate-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span></span>)
    <span class="returntype parameter">&#8594; <a href="../brambl_dart/LockTemplate-class.html">LockTemplate</a>?</span>
  </span>
  

</dt>
<dd>
  Get the lock template associated to the given contract
  

</dd>

        <dt id="getNextIndicesForFunds" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getNextIndicesForFunds.html">getNextIndicesForFunds</a></span><span class="signature">(<wbr><span class="parameter" id="getNextIndicesForFunds-param-party"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">party</span>, </span><span class="parameter" id="getNextIndicesForFunds-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_indices.pb/Indices-class.html">Indices</a>?</span>
  </span>
  

</dt>
<dd>
  Get the next available indices for the given party and contract
  

</dd>

        <dt id="getPreimage" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/getPreimage.html">getPreimage</a></span><span class="signature">(<wbr><span class="parameter" id="getPreimage-param-digestProposition"><span class="type-annotation"><a href="https://pub.dev/documentation/topl_common/2.1.0/proto_quivr_models_proposition.pb/Proposition_Digest-class.html">Proposition_Digest</a></span> <span class="parameter-name">digestProposition</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://pub.dev/documentation/topl_common/2.1.0/proto_quivr_models_shared.pb/Preimage-class.html">Preimage</a>?</span>
  </span>
  

</dt>
<dd>
  Get the preimage secret associated to a digest proposition.
  

</dd>

        <dt id="initWalletState" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/initWalletState.html">initWalletState</a></span><span class="signature">(<wbr><span class="parameter" id="initWalletState-param-networkId"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/int-class.html">int</a></span> <span class="parameter-name">networkId</span>, </span><span class="parameter" id="initWalletState-param-ledgerId"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/int-class.html">int</a></span> <span class="parameter-name">ledgerId</span>, </span><span class="parameter" id="initWalletState-param-vk"><span class="type-annotation"><a href="https://pub.dev/documentation/topl_common/2.1.0/proto_quivr_models_shared.pb/VerificationKey-class.html">VerificationKey</a></span> <span class="parameter-name">vk</span></span>)
    <span class="returntype parameter">&#8594; void</span>
  </span>
  

</dt>
<dd>
  Initialize the wallet state with the given verification key
  

</dd>

        <dt id="noSuchMethod" class="callable inherited">
  <span class="name"><a href="https://api.dart.dev/stable/3.1.4/dart-core/Object/noSuchMethod.html">noSuchMethod</a></span><span class="signature">(<wbr><span class="parameter" id="noSuchMethod-param-invocation"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/Invocation-class.html">Invocation</a></span> <span class="parameter-name">invocation</span></span>)
    <span class="returntype parameter">&#8594; dynamic</span>
  </span>
  

</dt>
<dd class="inherited">
  Invoked when a nonexistent method or property is accessed.
  <div class="features"><span class="feature">inherited</span></div>

</dd>

        <dt id="toString" class="callable inherited">
  <span class="name"><a href="https://api.dart.dev/stable/3.1.4/dart-core/Object/toString.html">toString</a></span><span class="signature">(<wbr>)
    <span class="returntype parameter">&#8594; <a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span>
  </span>
  

</dt>
<dd class="inherited">
  A string representation of this object.
  <div class="features"><span class="feature">inherited</span></div>

</dd>

        <dt id="updateWalletState" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/updateWalletState.html">updateWalletState</a></span><span class="signature">(<wbr><span class="parameter" id="updateWalletState-param-lockPredicate"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">lockPredicate</span>, </span><span class="parameter" id="updateWalletState-param-lockAddress"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">lockAddress</span>, </span><span class="parameter" id="updateWalletState-param-routine"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a>?</span> <span class="parameter-name">routine</span>, </span><span class="parameter" id="updateWalletState-param-vk"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a>?</span> <span class="parameter-name">vk</span>, </span><span class="parameter" id="updateWalletState-param-indices"><span class="type-annotation"><a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_indices.pb/Indices-class.html">Indices</a></span> <span class="parameter-name">indices</span></span>)
    <span class="returntype parameter">&#8594; void</span>
  </span>
  

</dt>
<dd>
  Update the wallet state with a new set of Predicate Lock, Lock Address, and their associated Indices
  

</dd>

        <dt id="validateCurrentIndicesForFunds" class="callable">
  <span class="name"><a href="../brambl_dart/WalletStateAlgebra/validateCurrentIndicesForFunds.html">validateCurrentIndicesForFunds</a></span><span class="signature">(<wbr><span class="parameter" id="validateCurrentIndicesForFunds-param-party"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">party</span>, </span><span class="parameter" id="validateCurrentIndicesForFunds-param-contract"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span> <span class="parameter-name">contract</span>, </span><span class="parameter" id="validateCurrentIndicesForFunds-param-someState"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/int-class.html">int</a>?</span> <span class="parameter-name">someState</span></span>)
    <span class="returntype parameter">&#8594; <a href="../brambl_dart/Either-class.html">Either</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="https://api.dart.dev/stable/3.1.4/dart-core/String-class.html">String</a></span>, <span class="type-parameter"><a href="https://pub.dev/documentation/topl_common/2.1.0/proto_brambl_models_indices.pb/Indices-class.html">Indices</a></span>&gt;</span></span>
  </span>
  

</dt>
<dd>
  Validate that the supplied party, contract and optional state exist and are associated with each other in the
current wallet state
  

</dd>

    </dl>
  </section>
    
  <section
      class="summary offset-anchor inherited"
      id="operators">
    <h2>Operators</h2>
    <dl class="callables">
        <dt id="operator ==" class="callable inherited">
  <span class="name"><a href="https://api.dart.dev/stable/3.1.4/dart-core/Object/operator_equals.html">operator ==</a></span><span class="signature">(<wbr><span class="parameter" id="==-param-other"><span class="type-annotation"><a href="https://api.dart.dev/stable/3.1.4/dart-core/Object-class.html">Object</a></span> <span class="parameter-name">other</span></span>)
    <span class="returntype parameter">&#8594; <a href="https://api.dart.dev/stable/3.1.4/dart-core/bool-class.html">bool</a></span>
  </span>
  

</dt>
<dd class="inherited">
  The equality operator.
  <div class="features"><span class="feature">inherited</span></div>

</dd>

    </dl>
  </section>
    
    
    


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../index.html">brambl_dart</a></li>
    <li><a href="../brambl_dart/brambl_dart-library.html">brambl_dart</a></li>
    <li class="self-crumb">WalletStateAlgebra class</li>
</ol>


    <!--<h5>brambl_dart library</h5>-->
    <div id="dartdoc-sidebar-left-content"></div>
  </div>

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    brambl_dart
      2.0.0+1
  </span>

  
</footer>



<script src="../static-assets/highlight.pack.js?v1"></script>
<script src="../static-assets/docs.dart.js"></script>



</body>

</html>

